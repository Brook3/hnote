# 1. 基本操作
## 1.1. 启动
### 1.1.1. 单次
```shell
$ docker run ubuntu echo 'Hello World'
```

### 1.1.2. 交互式
```shell
$ docker run --name=Brook3_ubuntu -i -t ubuntu /bin/bash
```

### 1.1.3. 守护进程：
#### 1.1.3.1. 直接以守护进程的方式启动
```shell
# 这个还不是太明白
$ docker run --name Brook3_ubuntu -d ubuntu /bin/sh -c "while true; do echo hello world; sllep 1; done"
```

#### 1.1.3.2. 交互式启动后切至后台成为守护进程
```shell
# 交互式运行容器后不要使用exit的方式退出，那样会结束容器。
# 使用C-p C-q的方式退出
# 守护进程使用docker ps可以查看到
# 使用attach container id恢复
$ docker attach id
```

## 1.2. 重新启动停止的容器：
```shell
$ docker start -i Brook3_ubuntu
```

## 1.3. 停止容器：
```shell
# docker stop
$ docker stop Brook3_ubuntu

# docker kill
```
## 1.4. 删除容器：
```shell
$ docker rm
```

## 1.5. ps
---
```shell
$ docker ps -a
```
> 如果不加参数，只显示正在运行的容器。参数a则表示所有运行过的容器

## 1.6. 容器日志
---
```shell
$ docker logs -f -t --tail
```

## 1.7. 容器进程
---
```shell
$ docker top 容器名
```
在运行中的容器内启动新进程：
```shell
$ docker exec
```

## 1.8. 镜像
---
### 1.8.1. 列出镜像
```shell
$ docker images --no-trunc -a -q ubuntu
```
### 1.8.2. 查看镜像
```shell
$ docker inspect ubuntu:latest
```
### 1.8.3. 删除镜像
```shell
# 如果一个镜像有多个标签，则下列只会删除一个标签
$ docker rmi ubuntu:latest
# 可以使用下列方式来删除镜像，该镜像的所有标签也会被删除
$ docker rmi image id
# 也可以批量删除。下列将会删除所有ubuntu的镜像
$ docker rmi $(docker images -q ubuntu)
```
### 1.8.4. 查找镜像
```shell
$ docker search
```
### 1.8.5. 拉取镜像
```shell
$ docker pull ubuntu:14.04
```
### 1.8.6. 推送镜像
```shell
$ docker push
```
### 1.8.7. 构建镜像
* 通过容器
```shell
$ docker commit
```
* 通过dockerfile文件
